{"ast":null,"code":"var table;\nvar img_table;\nvar img_index;\nvar font;\nvar intro;\nvar a;\nfunction preload() {\n  // load csv and font\n  table = loadTable(\"assets/DTA_data.csv\", \"csv\", \"header\");\n  font = \"Carrois Gothic SC\";\n}\nfunction setup() {\n  // array of the image links loaded into images\n  img_table = [];\n\n  //cycle through the table\n  for (var r = 0; r < table.getRowCount(); r++) {\n    // get each image link from column 3\n    img_table.push(loadImage(table.getString(r, 3)));\n  }\n\n  // establish intro page being loaded before other context\n  intro = true;\n\n  // canvas size equivalent to array length so that each pixel location on the x axis corresponds with an image in the array\n  createCanvas(img_table.length, img_table.length);\n\n  // text formatting\n  textAlign(CENTER, CENTER);\n  textFont(font);\n  textSize(15);\n\n  // data source link formatting\n  a = createA(\"https://archive.org/details/digitaltransgenderarchive\", \"data source: internet archive\", \"_blank\"); // _blank makes the link open in another tab\n  a.style('font-family', \"Carrois Gothic SC\");\n  a.style('color', 'white');\n}\nfunction keyPressed() {\n  // key press deactivates intro page\n  // minor bug with the p5 display window: need to click on the page before pressing a key to establish the cursor in the frame. so you technically have to click and then press a key. this is something that would hopefully not be an issue if embedded in a site of its own but this is outside the scope of this assignment.\n  intro = false;\n}\nfunction draw() {\n  if (intro) {\n    // black background, white text\n    background(0);\n    var txt = \"the following visualization shows the covers of drag and transgender magazines uploaded to the internet archive by the digital transgender archive.\\n\\nsome of the images contain nudity, sexual content, and language which might be considered offensive. if you are in one of these images and would like it removed, please contact allisonlehn@gmail.com\\n\\nslide your cursor left and right to see the cover images through the years. press any key to dismiss this screen.\";\n    text(txt, 20, 0, width - 40, height);\n    fill(255);\n\n    // specify link position\n    a.position(width / 2 - a.width / 2 - 17, height - 40);\n  } else {\n    // make link invisible\n    a.hide();\n    // white background, black text\n    background(255);\n\n    // ensure mouseX never goes beyond boundary\n    if (mouseX < width) {\n      img_index = mouseX;\n    } else {\n      img_index = width - 1;\n    }\n\n    // set image index to mouseX position\n    var img = img_table[img_index];\n    // format image in center of page\n    image(img, width / 2 - img.width / 2, height / 2 - img.height / 2);\n    // format year text\n    text(table.getString(img_index, 2), width / 2, 30);\n    fill(0);\n  }\n}","map":{"version":3,"names":["table","img_table","img_index","font","intro","a","preload","loadTable","setup","r","getRowCount","push","loadImage","getString","createCanvas","length","textAlign","CENTER","textFont","textSize","createA","style","keyPressed","draw","background","txt","text","width","height","fill","position","hide","mouseX","img","image"],"sources":["C:/Users/allis/personal-site/src/sketch.js"],"sourcesContent":["let table;\nlet img_table;\nlet img_index;\nlet font;\nlet intro;\nlet a;\n\nfunction preload() {\n  // load csv and font\n  table = loadTable(\"assets/DTA_data.csv\", \"csv\", \"header\");\n  font = \"Carrois Gothic SC\"\n}\n\nfunction setup() {\n  // array of the image links loaded into images\n  img_table = [];\n\n  //cycle through the table\n  for (let r = 0; r < table.getRowCount(); r++) {\n    // get each image link from column 3\n    img_table.push(loadImage(table.getString(r, 3)));\n  }\n  \n  // establish intro page being loaded before other context\n  intro = true;\n  \n  // canvas size equivalent to array length so that each pixel location on the x axis corresponds with an image in the array\n  createCanvas(img_table.length, img_table.length);\n  \n  // text formatting\n  textAlign(CENTER, CENTER);\n  textFont(font);\n  textSize(15);\n  \n  // data source link formatting\n    a = createA(\"https://archive.org/details/digitaltransgenderarchive\", \"data source: internet archive\", \"_blank\"); // _blank makes the link open in another tab\n  a.style('font-family', \"Carrois Gothic SC\");\n  a.style('color', 'white');\n\n}\n\nfunction keyPressed() {\n  // key press deactivates intro page\n  // minor bug with the p5 display window: need to click on the page before pressing a key to establish the cursor in the frame. so you technically have to click and then press a key. this is something that would hopefully not be an issue if embedded in a site of its own but this is outside the scope of this assignment.\n  intro = false; \n}\n\nfunction draw() {\n  if (intro) {\n    // black background, white text\n    background(0);\n    let txt = \"the following visualization shows the covers of drag and transgender magazines uploaded to the internet archive by the digital transgender archive.\\n\\nsome of the images contain nudity, sexual content, and language which might be considered offensive. if you are in one of these images and would like it removed, please contact allisonlehn@gmail.com\\n\\nslide your cursor left and right to see the cover images through the years. press any key to dismiss this screen.\"\n    text(txt,20,0,width - 40,height);\n    fill(255);\n    \n    // specify link position\n    a.position(width/2 - a.width/2 - 17,height-40);\n    \n    \n  } \n  else {\n    // make link invisible\n    a.hide()\n    // white background, black text\n    background(255);\n    \n    // ensure mouseX never goes beyond boundary\n    if (mouseX < width) {\n      img_index = mouseX;\n    } \n    else {\n      img_index = width - 1;\n    }\n    \n    // set image index to mouseX position\n    let img = img_table[img_index];\n    // format image in center of page\n    image(img, width / 2 - img.width / 2, height / 2 - img.height / 2);\n    // format year text\n    text(table.getString(img_index, 2), width / 2, 30);\n    fill(0);\n  }\n}\n"],"mappings":"AAAA,IAAIA,KAAK;AACT,IAAIC,SAAS;AACb,IAAIC,SAAS;AACb,IAAIC,IAAI;AACR,IAAIC,KAAK;AACT,IAAIC,CAAC;AAEL,SAASC,OAAO,GAAG;EACjB;EACAN,KAAK,GAAGO,SAAS,CAAC,qBAAqB,EAAE,KAAK,EAAE,QAAQ,CAAC;EACzDJ,IAAI,GAAG,mBAAmB;AAC5B;AAEA,SAASK,KAAK,GAAG;EACf;EACAP,SAAS,GAAG,EAAE;;EAEd;EACA,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,KAAK,CAACU,WAAW,EAAE,EAAED,CAAC,EAAE,EAAE;IAC5C;IACAR,SAAS,CAACU,IAAI,CAACC,SAAS,CAACZ,KAAK,CAACa,SAAS,CAACJ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAClD;;EAEA;EACAL,KAAK,GAAG,IAAI;;EAEZ;EACAU,YAAY,CAACb,SAAS,CAACc,MAAM,EAAEd,SAAS,CAACc,MAAM,CAAC;;EAEhD;EACAC,SAAS,CAACC,MAAM,EAAEA,MAAM,CAAC;EACzBC,QAAQ,CAACf,IAAI,CAAC;EACdgB,QAAQ,CAAC,EAAE,CAAC;;EAEZ;EACEd,CAAC,GAAGe,OAAO,CAAC,uDAAuD,EAAE,+BAA+B,EAAE,QAAQ,CAAC,CAAC,CAAC;EACnHf,CAAC,CAACgB,KAAK,CAAC,aAAa,EAAE,mBAAmB,CAAC;EAC3ChB,CAAC,CAACgB,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC;AAE3B;AAEA,SAASC,UAAU,GAAG;EACpB;EACA;EACAlB,KAAK,GAAG,KAAK;AACf;AAEA,SAASmB,IAAI,GAAG;EACd,IAAInB,KAAK,EAAE;IACT;IACAoB,UAAU,CAAC,CAAC,CAAC;IACb,IAAIC,GAAG,GAAG,odAAod;IAC9dC,IAAI,CAACD,GAAG,EAAC,EAAE,EAAC,CAAC,EAACE,KAAK,GAAG,EAAE,EAACC,MAAM,CAAC;IAChCC,IAAI,CAAC,GAAG,CAAC;;IAET;IACAxB,CAAC,CAACyB,QAAQ,CAACH,KAAK,GAAC,CAAC,GAAGtB,CAAC,CAACsB,KAAK,GAAC,CAAC,GAAG,EAAE,EAACC,MAAM,GAAC,EAAE,CAAC;EAGhD,CAAC,MACI;IACH;IACAvB,CAAC,CAAC0B,IAAI,EAAE;IACR;IACAP,UAAU,CAAC,GAAG,CAAC;;IAEf;IACA,IAAIQ,MAAM,GAAGL,KAAK,EAAE;MAClBzB,SAAS,GAAG8B,MAAM;IACpB,CAAC,MACI;MACH9B,SAAS,GAAGyB,KAAK,GAAG,CAAC;IACvB;;IAEA;IACA,IAAIM,GAAG,GAAGhC,SAAS,CAACC,SAAS,CAAC;IAC9B;IACAgC,KAAK,CAACD,GAAG,EAAEN,KAAK,GAAG,CAAC,GAAGM,GAAG,CAACN,KAAK,GAAG,CAAC,EAAEC,MAAM,GAAG,CAAC,GAAGK,GAAG,CAACL,MAAM,GAAG,CAAC,CAAC;IAClE;IACAF,IAAI,CAAC1B,KAAK,CAACa,SAAS,CAACX,SAAS,EAAE,CAAC,CAAC,EAAEyB,KAAK,GAAG,CAAC,EAAE,EAAE,CAAC;IAClDE,IAAI,CAAC,CAAC,CAAC;EACT;AACF"},"metadata":{},"sourceType":"module"}